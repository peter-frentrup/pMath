// You should pre-define PJ_DECLARE_SYMBOL(sym, name_str)
// You may pre-define PJ_RESET_SYMBOL_ATTRIBUTES(sym, attr)
// You may pre-define PJ_SYMBOL_DOWNFUNC_IMPL(sym, name_str, func)

#define HOLDALLCOMPLETE  PMATH_SYMBOL_ATTRIBUTE_HOLDALLCOMPLETE

#ifdef PJ_RESET_SYMBOL_ATTRIBUTES
#  define PJ_RESET_SYMBOL_ATTRIBUTES_HELPER(SYM, ATTR)   PJ_RESET_SYMBOL_ATTRIBUTES(SYM, ATTR)
#else
#  define PJ_RESET_SYMBOL_ATTRIBUTES_HELPER(SYM, ATTR)
#endif

#define PJ_DECLARE_SYMBOL_ATTR_HELPER(SYM, NAME, ATTR)  \
  PJ_DECLARE_SYMBOL(SYM, NAME)            \
  PJ_RESET_SYMBOL_ATTRIBUTES_HELPER(SYM, ATTR)

#ifdef PJ_SYMBOL_DOWNFUNC_IMPL
#  define PJ_SYMBOL_DOWNFUNC_ATTR(sym, name_str, func, ATTR)  PJ_DECLARE_SYMBOL_ATTR_HELPER(sym, name_str, ATTR)  PJ_SYMBOL_DOWNFUNC_IMPL(sym, name_str, func)
#else
#  define PJ_SYMBOL_DOWNFUNC_ATTR(sym, name_str, func, ATTR)  PJ_DECLARE_SYMBOL_ATTR_HELPER(sym, name_str, ATTR)
#endif

#define PJ_DECLARE_SYSTEM_SYMBOL(NAME) \
  PJ_DECLARE_SYMBOL( \
    pjsym_System_ ## NAME, \
    "System`" #NAME \
  )
  
#define PJ_DECLARE_JAVA_SYMBOL(NAME) \
  PJ_DECLARE_SYMBOL_ATTR_HELPER( \
    pjsym_Java_ ## NAME, \
    "Java`" #NAME, \
    PMATH_SYMBOL_ATTRIBUTE_PROTECTED \
  )
  
#define PJ_DECLARE_JAVA_DOLLAR_SYMBOL(NAME) \
  PJ_DECLARE_SYMBOL_ATTR_HELPER( \
    pjsym_Java_Dollar ## NAME, \
    "Java`$" #NAME, \
    PMATH_SYMBOL_ATTRIBUTE_PROTECTED \
  )
  
#define PJ_DECLARE_JAVA_INTERAL_SYMBOL(NAME, ATTR) \
  PJ_DECLARE_SYMBOL_ATTR_HELPER( \
    pjsym_Java_Internal_ ## NAME, \
    "Java`Internal`" #NAME, \
    PMATH_SYMBOL_ATTRIBUTE_PROTECTED | (ATTR) \
  )
  
#define PJ_DECLARE_JAVA_TYPE_SYMBOL(NAME) \
  PJ_DECLARE_SYMBOL_ATTR_HELPER( \
    pjsym_Java_Type_ ## NAME, \
    "Java`Type`" #NAME, \
    PMATH_SYMBOL_ATTRIBUTE_PROTECTED \
  )

#define PJ_DECLARE_JAVA_DOWNFUNC(NAME, ATTR) \
  PJ_SYMBOL_DOWNFUNC_ATTR( \
    pjsym_Java_ ## NAME, \
    "Java`" #NAME, \
    pj_eval_Java_ ## NAME, \
    PMATH_SYMBOL_ATTRIBUTE_PROTECTED | (ATTR) \
  )

#define PJ_DECLARE_JAVA_INTERNAL_DOWNFUNC(NAME, ATTR) \
  PJ_SYMBOL_DOWNFUNC_ATTR( \
    pjsym_Java_Internal_ ## NAME, \
    "Java`Internal`" #NAME, \
    pj_eval_Java_Internal_ ## NAME, \
    PMATH_SYMBOL_ATTRIBUTE_PROTECTED | (ATTR) \
  )

PJ_DECLARE_SYSTEM_SYMBOL( BaseForm )
PJ_DECLARE_SYSTEM_SYMBOL( ToExpression )

PJ_DECLARE_JAVA_SYMBOL( Java          )
PJ_DECLARE_JAVA_SYMBOL( JavaClass     )
PJ_DECLARE_JAVA_SYMBOL( JavaException )
PJ_DECLARE_JAVA_SYMBOL( JavaObject    )

PJ_DECLARE_JAVA_DOLLAR_SYMBOL( DefaultClassPath  )
PJ_DECLARE_JAVA_DOLLAR_SYMBOL( JavaVMLibraryName )

PJ_DECLARE_JAVA_INTERAL_SYMBOL( Failed,    HOLDALLCOMPLETE )
PJ_DECLARE_JAVA_INTERAL_SYMBOL( Succeeded, HOLDALLCOMPLETE )

PJ_DECLARE_JAVA_TYPE_SYMBOL( Array     )
PJ_DECLARE_JAVA_TYPE_SYMBOL( Boolean   )
PJ_DECLARE_JAVA_TYPE_SYMBOL( Byte      )
PJ_DECLARE_JAVA_TYPE_SYMBOL( Character )
PJ_DECLARE_JAVA_TYPE_SYMBOL( Double    )
PJ_DECLARE_JAVA_TYPE_SYMBOL( Float     )
PJ_DECLARE_JAVA_TYPE_SYMBOL( Int       )
PJ_DECLARE_JAVA_TYPE_SYMBOL( Long      )
PJ_DECLARE_JAVA_TYPE_SYMBOL( Short     )
  
PJ_DECLARE_JAVA_DOWNFUNC( InstanceOf,        0)
PJ_DECLARE_JAVA_DOWNFUNC( IsJavaObject,      0)
PJ_DECLARE_JAVA_DOWNFUNC( JavaCall,          0)
PJ_DECLARE_JAVA_DOWNFUNC( JavaClassAsObject, 0)
PJ_DECLARE_JAVA_DOWNFUNC( JavaField,         0)
PJ_DECLARE_JAVA_DOWNFUNC( JavaIsRunning,     0)
PJ_DECLARE_JAVA_DOWNFUNC( JavaNew,           0)
PJ_DECLARE_JAVA_DOWNFUNC( JavaStartVM,       0)
PJ_DECLARE_JAVA_DOWNFUNC( ParentClass,       0)

PJ_DECLARE_JAVA_INTERNAL_DOWNFUNC( AddToClassPath,          0               )
PJ_DECLARE_JAVA_INTERNAL_DOWNFUNC( CallFromJava,            HOLDALLCOMPLETE )
PJ_DECLARE_JAVA_INTERNAL_DOWNFUNC( CallFromJavaWithContext, HOLDALLCOMPLETE )
PJ_DECLARE_JAVA_INTERNAL_DOWNFUNC( JavaCall,                0               )
PJ_DECLARE_JAVA_INTERNAL_DOWNFUNC( JavaNew,                 0               )
PJ_DECLARE_JAVA_INTERNAL_DOWNFUNC( Return,                  HOLDALLCOMPLETE )
PJ_DECLARE_JAVA_INTERNAL_DOWNFUNC( StoppedCothread,         HOLDALLCOMPLETE )


#undef PJ_DECLARE_SYSTEM_SYMBOL
#undef PJ_DECLARE_JAVA_SYMBOL
#undef PJ_DECLARE_JAVA_DOWNFUNC
#undef PJ_SYMBOL_DOWNFUNC_ATTR
#undef PJ_DECLARE_SYMBOL_ATTR_HELPER
#undef PJ_RESET_SYMBOL_ATTRIBUTES_HELPER
#undef HOLDALLCOMPLETE
