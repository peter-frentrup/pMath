\hypertarget{classpmath__span__array__t}{
\subsection{pmath\_\-span\_\-array\_\-t Class Reference}
\label{classpmath__span__array__t}\index{pmath\_\-span\_\-array\_\-t@{pmath\_\-span\_\-array\_\-t}}
}
Internal flat representaion of spans.  


\subsubsection*{Public Member Functions}
\begin{CompactItemize}
\item 
PMATH\_\-API void \hyperlink{group__parser_gceb05ef4c39c239d68f39e3b9bde5f1e}{pmath\_\-span\_\-array\_\-free} (\hyperlink{classpmath__span__array__t}{pmath\_\-span\_\-array\_\-t} $\ast$spans)
\begin{CompactList}\small\item\em Destroy a span-array and all its spans. \item\end{CompactList}\item 
PMATH\_\-API int \hyperlink{group__parser_g30df905fabf7b04493548bcafe85d3d4}{pmath\_\-span\_\-array\_\-length} (\hyperlink{classpmath__span__array__t}{pmath\_\-span\_\-array\_\-t} $\ast$spans)
\begin{CompactList}\small\item\em Get a span-array's length. \item\end{CompactList}\item 
PMATH\_\-API \hyperlink{group__general__types_gc92090cb0b56345d6c379ed2341d4ef4}{pmath\_\-bool\_\-t} \hyperlink{group__parser_g0bb7df579ed425ec719cf2eb85093517}{pmath\_\-span\_\-array\_\-is\_\-token\_\-end} (\hyperlink{classpmath__span__array__t}{pmath\_\-span\_\-array\_\-t} $\ast$spans, int pos)
\begin{CompactList}\small\item\em Test the token-end-flag at an index. \item\end{CompactList}\item 
PMATH\_\-API \hyperlink{group__general__types_gc92090cb0b56345d6c379ed2341d4ef4}{pmath\_\-bool\_\-t} \hyperlink{group__parser_g7ca9a7b13aef344ba903b33f07ba912a}{pmath\_\-span\_\-array\_\-is\_\-operator\_\-start} (\hyperlink{classpmath__span__array__t}{pmath\_\-span\_\-array\_\-t} $\ast$spans, int pos)
\begin{CompactList}\small\item\em Test the operator-start-flag at an index. \item\end{CompactList}\item 
PMATH\_\-API \hyperlink{classpmath__span__t}{pmath\_\-span\_\-t} $\ast$ \hyperlink{group__parser_g8f106cc9c1ae23635bbd759072505c27}{pmath\_\-span\_\-at} (\hyperlink{classpmath__span__array__t}{pmath\_\-span\_\-array\_\-t} $\ast$spans, int pos)
\begin{CompactList}\small\item\em Get a span starting at an index. \item\end{CompactList}\end{CompactItemize}


\subsubsection{Detailed Description}
Internal flat representaion of spans. 

The boxform of {\tt aa$\ast$bbb+cc$^\wedge$-dd$\ast$ee} is {\tt \{\{\char`\"{}aa\char`\"{}, \char`\"{}$\ast$\char`\"{}, \char`\"{}bbb\char`\"{}\}, \char`\"{}+\char`\"{}, \{\{\char`\"{}cc\char`\"{}, \char`\"{}$^\wedge$\char`\"{}, \{\char`\"{}-\char`\"{}, \char`\"{}dd\char`\"{}\}\}, \char`\"{}$\ast$\char`\"{}, \char`\"{}ee\char`\"{}\}\}}

But those lists are not practicable for front-ends, so pMath provides a flat representation called {\em span-array\/}. It is an array of spans and flags (see \hyperlink{group__parser_g8f106cc9c1ae23635bbd759072505c27}{pmath\_\-span\_\-at()}, \hyperlink{group__parser_g0bb7df579ed425ec719cf2eb85093517}{pmath\_\-span\_\-array\_\-is\_\-token\_\-end()}, \hyperlink{group__parser_g7ca9a7b13aef344ba903b33f07ba912a}{pmath\_\-span\_\-array\_\-is\_\-operator\_\-start()}).

The above code would be scanned to the following span array (the text itself is not stored): 

\begin{footnotesize}\begin{verbatim}
                aa*bbb+cc^-dd*ee
operand start:  x  x   x  xx  x
token end:       x   xx xxx xx x
       /                  \_/
spans <         \____/ \____/
       \               \_______/
        \       \______________/
index:          0    5    10   15
   \end{verbatim}
\end{footnotesize}


So at index 0 is a span which ends with index 15. It has a next span (a shorter span that starts at the same position) which ends with index 5. \par
 Another span is at index 7. It ends with index 15 and has a next span which ends with index 12. \par
 The last span is at index 10 and also ends with index 12.

No two spans can cross-overlap so there is a definite hierachy. You create such a span-array with \hyperlink{group__parser_g877ac507e27c8791a265105f796f3cef}{pmath\_\-spans\_\-from\_\-string()} and destroy it with \hyperlink{group__parser_gceb05ef4c39c239d68f39e3b9bde5f1e}{pmath\_\-span\_\-array\_\-free()}. 

The documentation for this class was generated from the following file:\begin{CompactItemize}
\item 
pmath-language/scanner.h\end{CompactItemize}
