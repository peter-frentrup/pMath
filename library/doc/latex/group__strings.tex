\hypertarget{group__strings}{
\subsection{Strings}
\label{group__strings}\index{Strings@{Strings}}
}
String objects in pMath.  


\subsubsection*{Data Structures}
\begin{CompactItemize}
\item 
struct \hyperlink{structpmath__cstr__writer__info__t}{pmath\_\-cstr\_\-writer\_\-info\_\-t}
\begin{CompactList}\small\item\em Additional information for \hyperlink{group__strings_g5e7a9b1a5eb8861e94dc1bea92c77424}{pmath\_\-utf8\_\-writer()} or \hyperlink{group__strings_ga3ecac6a71274a3e43cedadb10085f2b}{pmath\_\-native\_\-writer()}. \item\end{CompactList}\item 
class \hyperlink{classpmath__string__t}{pmath\_\-string\_\-t}
\begin{CompactList}\small\item\em The string class. \item\end{CompactList}\end{CompactItemize}
\subsubsection*{Defines}
\begin{CompactItemize}
\item 
\#define \hyperlink{group__strings_g0b6ecb1bc5d8aeccbbfaeb72055c7ffc}{PMATH\_\-C\_\-STRING}(cstr)~pmath\_\-string\_\-insert\_\-latin1(NULL, 0, (cstr), -1)
\begin{CompactList}\small\item\em Short form to convert a C String to a pMath String. \item\end{CompactList}\item 
\hyperlink{group__strings_g63b8849d6cfcfa9d73bd404d7a4071c0}{pmath\_\-string\_\-t::PMATH\_\-C\_\-STRING}(cstr)
\begin{CompactList}\small\item\em Short form to convert a C String to a pMath String. \item\end{CompactList}\end{CompactItemize}
\subsubsection*{Functions}
\begin{CompactItemize}
\item 
PMATH\_\-API void \hyperlink{group__strings_g5e7a9b1a5eb8861e94dc1bea92c77424}{pmath\_\-utf8\_\-writer} (void $\ast$user, const uint16\_\-t $\ast$data, int len)
\begin{CompactList}\small\item\em \hyperlink{class_a}{A} {\em write\/} function for \hyperlink{group__objects_g9f909b9eb04317260ee8630d10e5a7c6}{pmath\_\-write()} that converts to utf8. \item\end{CompactList}\item 
PMATH\_\-API void \hyperlink{group__strings_ga3ecac6a71274a3e43cedadb10085f2b}{pmath\_\-native\_\-writer} (void $\ast$user, const uint16\_\-t $\ast$data, int len)
\begin{CompactList}\small\item\em \hyperlink{class_a}{A} {\em write\/} function for \hyperlink{group__objects_g9f909b9eb04317260ee8630d10e5a7c6}{pmath\_\-write()} that converts to the current console encosing. \item\end{CompactList}\item 
PMATH\_\-API uint32\_\-t \hyperlink{group__strings_g963fd4f434edb806b3f2262726d849be}{pmath\_\-char\_\-from\_\-name} (const char $\ast$name)
\begin{CompactList}\small\item\em Get a named character. \item\end{CompactList}\item 
PMATH\_\-API const char $\ast$ \hyperlink{group__strings_g21de2fb0e4e344d00d728f1c2fc4a941}{pmath\_\-char\_\-to\_\-name} (uint32\_\-t unichar)
\begin{CompactList}\small\item\em Get a character's name. \item\end{CompactList}\item 
PMATH\_\-API \hyperlink{classpmath__string__t}{pmath\_\-string\_\-t} \hyperlink{group__strings_g9f860fe571fcb87515b82ddc704c93ef}{pmath\_\-string\_\-t::pmath\_\-string\_\-new} (int capacity)
\begin{CompactList}\small\item\em Create an empty pMath String. \item\end{CompactList}\item 
PMATH\_\-API \hyperlink{classpmath__string__t}{pmath\_\-string\_\-t} \hyperlink{group__strings_g0016e7daa5ca421a48b6d8bd3c5f7ff5}{pmath\_\-string\_\-t::pmath\_\-string\_\-insert\_\-latin1} (\hyperlink{classpmath__string__t}{pmath\_\-string\_\-t} str, int inspos, const char $\ast$ins, int inslen)
\begin{CompactList}\small\item\em Insert an Latin-1 encoded buffer into a pMath String. \item\end{CompactList}\item 
PMATH\_\-API \hyperlink{classpmath__string__t}{pmath\_\-string\_\-t} \hyperlink{group__strings_g0591f864ff17f7c27dc7b5032dab7551}{pmath\_\-string\_\-t::pmath\_\-string\_\-from\_\-utf8} (const char $\ast$str, int len)
\begin{CompactList}\small\item\em Convert an UTF-8 encoded buffer to a pMath String. \item\end{CompactList}\item 
PMATH\_\-API char $\ast$ \hyperlink{group__strings_g881c2e70d81dd43a79d5ccbecc933e79}{pmath\_\-string\_\-t::pmath\_\-string\_\-to\_\-utf8} (\hyperlink{classpmath__string__t}{pmath\_\-string\_\-t} str, int $\ast$result\_\-len)
\begin{CompactList}\small\item\em Convert a pMath string to a zero-terminated UTF-8 string. \item\end{CompactList}\item 
PMATH\_\-API \hyperlink{classpmath__string__t}{pmath\_\-string\_\-t} \hyperlink{group__strings_g37cf187968e366edd0998dda0bd5ea7a}{pmath\_\-string\_\-t::pmath\_\-string\_\-from\_\-native} (const char $\ast$str, int len)
\begin{CompactList}\small\item\em Convert a string buffer in the current console character encoding to a pMath String. \item\end{CompactList}\item 
PMATH\_\-API char $\ast$ \hyperlink{group__strings_g7ccade7efa65dc24f7cd573f15fc07e9}{pmath\_\-string\_\-t::pmath\_\-string\_\-to\_\-native} (\hyperlink{classpmath__string__t}{pmath\_\-string\_\-t} str, int $\ast$result\_\-len)
\begin{CompactList}\small\item\em Convert a pMath string to a string in the current console character encoding. \item\end{CompactList}\item 
PMATH\_\-API \hyperlink{classpmath__string__t}{pmath\_\-string\_\-t} \hyperlink{group__strings_g5008b0b2e682b283772e10bf38666ffe}{pmath\_\-string\_\-t::pmath\_\-string\_\-insert\_\-codepage} (\hyperlink{classpmath__string__t}{pmath\_\-string\_\-t} str, int inspos, const char $\ast$ins, int inslen, const uint16\_\-t $\ast$cp)
\begin{CompactList}\small\item\em Insert a byte string into a pMath string using a translation array. \item\end{CompactList}\item 
PMATH\_\-API \hyperlink{classpmath__string__t}{pmath\_\-string\_\-t} \hyperlink{group__strings_ge49ea36d0f35856b6b9aeb0c4470c614}{pmath\_\-string\_\-t::pmath\_\-string\_\-insert\_\-ucs2} (\hyperlink{classpmath__string__t}{pmath\_\-string\_\-t} str, int inspos, const uint16\_\-t $\ast$ins, int inslen)
\begin{CompactList}\small\item\em Insert a UCS-2 buffer into a pMath String. \item\end{CompactList}\item 
PMATH\_\-API \hyperlink{classpmath__string__t}{pmath\_\-string\_\-t} \hyperlink{group__strings_g563af717f21793d72933a9914b23a6aa}{pmath\_\-string\_\-t::pmath\_\-string\_\-insert} (\hyperlink{classpmath__string__t}{pmath\_\-string\_\-t} str, int inspos, \hyperlink{classpmath__string__t}{pmath\_\-string\_\-t} ins)
\begin{CompactList}\small\item\em Insert one pMath String into another pMath String. \item\end{CompactList}\item 
PMATH\_\-API \hyperlink{classpmath__string__t}{pmath\_\-string\_\-t} \hyperlink{group__strings_g2594ada00fefcbede1420bf19b806de6}{pmath\_\-string\_\-t::pmath\_\-string\_\-concat} (\hyperlink{classpmath__string__t}{pmath\_\-string\_\-t} prefix, \hyperlink{classpmath__string__t}{pmath\_\-string\_\-t} postfix)
\begin{CompactList}\small\item\em Concatenate two pMath Strings. \item\end{CompactList}\item 
PMATH\_\-API \hyperlink{classpmath__string__t}{pmath\_\-string\_\-t} \hyperlink{group__strings_gb99f797d2a7670ff6a44d788d07812cd}{pmath\_\-string\_\-t::pmath\_\-string\_\-part} (\hyperlink{classpmath__string__t}{pmath\_\-string\_\-t} string, int start, int length)
\begin{CompactList}\small\item\em Extract a substring of a pMath String. \item\end{CompactList}\item 
PMATH\_\-API const uint16\_\-t $\ast$ \hyperlink{group__strings_g381c6abdb25ce421c93c72aa51f33c29}{pmath\_\-string\_\-t::pmath\_\-string\_\-buffer} (\hyperlink{classpmath__string__t}{pmath\_\-string\_\-t} string)
\begin{CompactList}\small\item\em Get a string's buffer for reading. \item\end{CompactList}\item 
PMATH\_\-API int \hyperlink{group__strings_g4f5ac7eaecd0c7e9916794145938874d}{pmath\_\-string\_\-t::pmath\_\-string\_\-length} (\hyperlink{classpmath__string__t}{pmath\_\-string\_\-t} string)
\begin{CompactList}\small\item\em Get a string's length. \item\end{CompactList}\item 
PMATH\_\-API \hyperlink{group__general__types_gc92090cb0b56345d6c379ed2341d4ef4}{pmath\_\-bool\_\-t} \hyperlink{group__strings_g710d7a70319d6fa805ddd7ed0ea65365}{pmath\_\-string\_\-t::pmath\_\-string\_\-equals\_\-latin1} (\hyperlink{classpmath__string__t}{pmath\_\-string\_\-t} string, const char $\ast$latin1)
\begin{CompactList}\small\item\em Compare a pMth sting with a C string. \item\end{CompactList}\end{CompactItemize}


\subsubsection{Detailed Description}
String objects in pMath. 

pMath stores strings in UCS-2 format (like Java and Windows NT). But pMath strings are not zero terminated.

Do not confuse pMath String characters (uint16\_\-t) with wchar\_\-t: sizeof(wchar\_\-t) differs on different Systems (Linux: 4 bytes, Windows: 2 bytes). So you cannot simply convert wchar\_\-t$\ast$ strings to pMath strings. 

\subsubsection{Define Documentation}
\hypertarget{group__strings_g0b6ecb1bc5d8aeccbbfaeb72055c7ffc}{
\index{strings@{strings}!PMATH\_\-C\_\-STRING@{PMATH\_\-C\_\-STRING}}
\index{PMATH\_\-C\_\-STRING@{PMATH\_\-C\_\-STRING}!strings@{strings}}
\paragraph[{PMATH\_\-C\_\-STRING}]{\setlength{\rightskip}{0pt plus 5cm}\#define PMATH\_\-C\_\-STRING(cstr)~pmath\_\-string\_\-insert\_\-latin1(NULL, 0, (cstr), -1)}\hfill}
\label{group__strings_g0b6ecb1bc5d8aeccbbfaeb72055c7ffc}


Short form to convert a C String to a pMath String. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em cstr}]\hyperlink{class_a}{A} C String (zero-terminated char buffer). \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]\hyperlink{class_a}{A} pMath String representing the Latin-1 C string {\em cstr\/}.\end{Desc}
This is a wrapper macro around \hyperlink{group__strings_g0016e7daa5ca421a48b6d8bd3c5f7ff5}{pmath\_\-string\_\-insert\_\-latin1()}. \hypertarget{group__strings_g63b8849d6cfcfa9d73bd404d7a4071c0}{
\index{strings@{strings}!PMATH\_\-C\_\-STRING@{PMATH\_\-C\_\-STRING}}
\index{PMATH\_\-C\_\-STRING@{PMATH\_\-C\_\-STRING}!strings@{strings}}
\paragraph[{PMATH\_\-C\_\-STRING}]{\setlength{\rightskip}{0pt plus 5cm}PMATH\_\-C\_\-STRING(cstr)\hspace{0.3cm}{\tt  \mbox{[}inherited\mbox{]}}}\hfill}
\label{group__strings_g63b8849d6cfcfa9d73bd404d7a4071c0}


Short form to convert a C String to a pMath String. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em cstr}]\hyperlink{class_a}{A} C String (zero-terminated char buffer). \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]\hyperlink{class_a}{A} pMath String representing the Latin-1 C string {\em cstr\/}.\end{Desc}
This is a wrapper macro around \hyperlink{group__strings_g0016e7daa5ca421a48b6d8bd3c5f7ff5}{pmath\_\-string\_\-insert\_\-latin1()}. 

\subsubsection{Function Documentation}
\hypertarget{group__strings_g5e7a9b1a5eb8861e94dc1bea92c77424}{
\index{strings@{strings}!pmath\_\-utf8\_\-writer@{pmath\_\-utf8\_\-writer}}
\index{pmath\_\-utf8\_\-writer@{pmath\_\-utf8\_\-writer}!strings@{strings}}
\paragraph[{pmath\_\-utf8\_\-writer}]{\setlength{\rightskip}{0pt plus 5cm}PMATH\_\-API void pmath\_\-utf8\_\-writer (void $\ast$ {\em user}, \/  const uint16\_\-t $\ast$ {\em data}, \/  int {\em len})}\hfill}
\label{group__strings_g5e7a9b1a5eb8861e94dc1bea92c77424}


\hyperlink{class_a}{A} {\em write\/} function for \hyperlink{group__objects_g9f909b9eb04317260ee8630d10e5a7c6}{pmath\_\-write()} that converts to utf8. 

\hyperlink{group__objects_g9f909b9eb04317260ee8630d10e5a7c6}{pmath\_\-write()} writes output as utf16/ucs2. This function can be used to convert to utf8 on the fly. The {\em user\/} parameter to pmath\_\-write must point to a \hyperlink{structpmath__cstr__writer__info__t}{pmath\_\-cstr\_\-writer\_\-info\_\-t}.

Here is an example on how to use it: 

\begin{Code}\begin{verbatim}void my_utf8_output(FILE *f, const char *str){
  fprintf(f, "%s", str);
}

...

pmath_cstr_writer_info_t info;
info.write_cstr = (void(*)(void*,const char*))my_utf8_output;
info.user = stdout; // will be first argument of my_utf8_output

pmath_print(some_object, some_options, pmath_utf8_writer, &info);
\end{verbatim}
\end{Code}

 \hypertarget{group__strings_ga3ecac6a71274a3e43cedadb10085f2b}{
\index{strings@{strings}!pmath\_\-native\_\-writer@{pmath\_\-native\_\-writer}}
\index{pmath\_\-native\_\-writer@{pmath\_\-native\_\-writer}!strings@{strings}}
\paragraph[{pmath\_\-native\_\-writer}]{\setlength{\rightskip}{0pt plus 5cm}PMATH\_\-API void pmath\_\-native\_\-writer (void $\ast$ {\em user}, \/  const uint16\_\-t $\ast$ {\em data}, \/  int {\em len})}\hfill}
\label{group__strings_ga3ecac6a71274a3e43cedadb10085f2b}


\hyperlink{class_a}{A} {\em write\/} function for \hyperlink{group__objects_g9f909b9eb04317260ee8630d10e5a7c6}{pmath\_\-write()} that converts to the current console encosing. 

This callback function is used like \hyperlink{group__strings_g5e7a9b1a5eb8861e94dc1bea92c77424}{pmath\_\-utf8\_\-writer()}. \hypertarget{group__strings_g963fd4f434edb806b3f2262726d849be}{
\index{strings@{strings}!pmath\_\-char\_\-from\_\-name@{pmath\_\-char\_\-from\_\-name}}
\index{pmath\_\-char\_\-from\_\-name@{pmath\_\-char\_\-from\_\-name}!strings@{strings}}
\paragraph[{pmath\_\-char\_\-from\_\-name}]{\setlength{\rightskip}{0pt plus 5cm}PMATH\_\-API uint32\_\-t pmath\_\-char\_\-from\_\-name (const char $\ast$ {\em name})}\hfill}
\label{group__strings_g963fd4f434edb806b3f2262726d849be}


Get a named character. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em name}]The ASCII-name of the character. e.g. \char`\"{}Sum\char`\"{} \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]The character code or 0xFFFFFFFFU on error \end{Desc}
\hypertarget{group__strings_g21de2fb0e4e344d00d728f1c2fc4a941}{
\index{strings@{strings}!pmath\_\-char\_\-to\_\-name@{pmath\_\-char\_\-to\_\-name}}
\index{pmath\_\-char\_\-to\_\-name@{pmath\_\-char\_\-to\_\-name}!strings@{strings}}
\paragraph[{pmath\_\-char\_\-to\_\-name}]{\setlength{\rightskip}{0pt plus 5cm}PMATH\_\-API const char$\ast$ pmath\_\-char\_\-to\_\-name (uint32\_\-t {\em unichar})}\hfill}
\label{group__strings_g21de2fb0e4e344d00d728f1c2fc4a941}


Get a character's name. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em unichar}]\hyperlink{class_a}{A} unicode character \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]The ASCII-name or NULL if it is unnamed \end{Desc}
\hypertarget{group__strings_g9f860fe571fcb87515b82ddc704c93ef}{
\index{strings@{strings}!pmath\_\-string\_\-new@{pmath\_\-string\_\-new}}
\index{pmath\_\-string\_\-new@{pmath\_\-string\_\-new}!strings@{strings}}
\paragraph[{pmath\_\-string\_\-new}]{\setlength{\rightskip}{0pt plus 5cm}PMATH\_\-API {\bf pmath\_\-string\_\-t} pmath\_\-string\_\-new (int {\em capacity})\hspace{0.3cm}{\tt  \mbox{[}inherited\mbox{]}}}\hfill}
\label{group__strings_g9f860fe571fcb87515b82ddc704c93ef}


Create an empty pMath String. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em capacity}]The initial capacity of the string. Must not be negative. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]\hyperlink{class_a}{A} new pMath String or NULL on failure. You must destroy it. \end{Desc}
\hypertarget{group__strings_g0016e7daa5ca421a48b6d8bd3c5f7ff5}{
\index{strings@{strings}!pmath\_\-string\_\-insert\_\-latin1@{pmath\_\-string\_\-insert\_\-latin1}}
\index{pmath\_\-string\_\-insert\_\-latin1@{pmath\_\-string\_\-insert\_\-latin1}!strings@{strings}}
\paragraph[{pmath\_\-string\_\-insert\_\-latin1}]{\setlength{\rightskip}{0pt plus 5cm}PMATH\_\-API {\bf pmath\_\-string\_\-t} pmath\_\-string\_\-insert\_\-latin1 ({\bf pmath\_\-string\_\-t} {\em str}, \/  int {\em inspos}, \/  const char $\ast$ {\em ins}, \/  int {\em inslen})\hspace{0.3cm}{\tt  \mbox{[}inherited\mbox{]}}}\hfill}
\label{group__strings_g0016e7daa5ca421a48b6d8bd3c5f7ff5}


Insert an Latin-1 encoded buffer into a pMath String. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em str}]\hyperlink{class_a}{A} pMath String or NULL. It will be freed. \item[{\em inspos}]The position, at which {\tt ins} should be inserted in {\tt str}. \item[{\em ins}]\hyperlink{class_a}{A} byte string. \item[{\em inslen}]The length of {\tt ins} or -1 if it is zero-terminated. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]NULL on failure or a pMath String. You must destroy it.\end{Desc}
If {\tt str} is NULL, it is assumed to be the empty string. The result is equivalent to a call to \hyperlink{group__strings_g5008b0b2e682b283772e10bf38666ffe}{pmath\_\-string\_\-insert\_\-codepage()} with a codepage that translates every byte {\bf b} to {\bf }(uint16\_\-t)(unsigned char)b. \hypertarget{group__strings_g0591f864ff17f7c27dc7b5032dab7551}{
\index{strings@{strings}!pmath\_\-string\_\-from\_\-utf8@{pmath\_\-string\_\-from\_\-utf8}}
\index{pmath\_\-string\_\-from\_\-utf8@{pmath\_\-string\_\-from\_\-utf8}!strings@{strings}}
\paragraph[{pmath\_\-string\_\-from\_\-utf8}]{\setlength{\rightskip}{0pt plus 5cm}PMATH\_\-API {\bf pmath\_\-string\_\-t} pmath\_\-string\_\-from\_\-utf8 (const char $\ast$ {\em str}, \/  int {\em len})\hspace{0.3cm}{\tt  \mbox{[}inherited\mbox{]}}}\hfill}
\label{group__strings_g0591f864ff17f7c27dc7b5032dab7551}


Convert an UTF-8 encoded buffer to a pMath String. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em str}]\hyperlink{class_a}{A} byte string. It wont be freed. \item[{\em len}]The byte-length of {\tt ins} or -1 if it is zero-terminated. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]NULL on failure or a pMath String. You must destroy it. \end{Desc}
\hypertarget{group__strings_g881c2e70d81dd43a79d5ccbecc933e79}{
\index{strings@{strings}!pmath\_\-string\_\-to\_\-utf8@{pmath\_\-string\_\-to\_\-utf8}}
\index{pmath\_\-string\_\-to\_\-utf8@{pmath\_\-string\_\-to\_\-utf8}!strings@{strings}}
\paragraph[{pmath\_\-string\_\-to\_\-utf8}]{\setlength{\rightskip}{0pt plus 5cm}PMATH\_\-API char $\ast$ pmath\_\-string\_\-to\_\-utf8 ({\bf pmath\_\-string\_\-t} {\em str}, \/  int $\ast$ {\em result\_\-len})\hspace{0.3cm}{\tt  \mbox{[}inherited\mbox{]}}}\hfill}
\label{group__strings_g881c2e70d81dd43a79d5ccbecc933e79}


Convert a pMath string to a zero-terminated UTF-8 string. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em str}]\hyperlink{class_a}{A} pMath string. It wont be freed. \item[{\em result\_\-len}]Position, where the string length of the returned buffer may be stored. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]\hyperlink{class_a}{A} zero-terminated UTF-8 string or NULL on error. You have to free the memory with pmath\_\-mem\_\-free(result, $\ast$size\_\-ptr).\end{Desc}
\begin{Desc}
\item[Note:]pMath strings may contain embedded '', but C strings may not. However, the conversion is done to the whole string even though your C functions will only {\em see\/} the content up to the first ''. \end{Desc}
\hypertarget{group__strings_g37cf187968e366edd0998dda0bd5ea7a}{
\index{strings@{strings}!pmath\_\-string\_\-from\_\-native@{pmath\_\-string\_\-from\_\-native}}
\index{pmath\_\-string\_\-from\_\-native@{pmath\_\-string\_\-from\_\-native}!strings@{strings}}
\paragraph[{pmath\_\-string\_\-from\_\-native}]{\setlength{\rightskip}{0pt plus 5cm}PMATH\_\-API {\bf pmath\_\-string\_\-t} pmath\_\-string\_\-from\_\-native (const char $\ast$ {\em str}, \/  int {\em len})\hspace{0.3cm}{\tt  \mbox{[}inherited\mbox{]}}}\hfill}
\label{group__strings_g37cf187968e366edd0998dda0bd5ea7a}


Convert a string buffer in the current console character encoding to a pMath String. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em str}]\hyperlink{class_a}{A} byte string. It wont be freed. \item[{\em len}]The byte-length of {\tt ins} or -1 if it is zero-terminated. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]NULL on failure or a pMath String. You must destroy it. \end{Desc}
\hypertarget{group__strings_g7ccade7efa65dc24f7cd573f15fc07e9}{
\index{strings@{strings}!pmath\_\-string\_\-to\_\-native@{pmath\_\-string\_\-to\_\-native}}
\index{pmath\_\-string\_\-to\_\-native@{pmath\_\-string\_\-to\_\-native}!strings@{strings}}
\paragraph[{pmath\_\-string\_\-to\_\-native}]{\setlength{\rightskip}{0pt plus 5cm}PMATH\_\-API char $\ast$ pmath\_\-string\_\-to\_\-native ({\bf pmath\_\-string\_\-t} {\em str}, \/  int $\ast$ {\em result\_\-len})\hspace{0.3cm}{\tt  \mbox{[}inherited\mbox{]}}}\hfill}
\label{group__strings_g7ccade7efa65dc24f7cd573f15fc07e9}


Convert a pMath string to a string in the current console character encoding. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em str}]\hyperlink{class_a}{A} pMath string. It wont be freed. \item[{\em result\_\-len}]Position, where the string length of the returned buffer may be stored. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]\hyperlink{class_a}{A} zero terminated string or NULL on error. You have to free the memory with pmath\_\-mem\_\-free(result, $\ast$size\_\-ptr).\end{Desc}
\begin{Desc}
\item[Note:]pMath strings may contain embedded '', but C strings may not. However, the conversion is done to the whole string even though your C functions will only {\em see\/} the content up to the first ''. \end{Desc}
\hypertarget{group__strings_g5008b0b2e682b283772e10bf38666ffe}{
\index{strings@{strings}!pmath\_\-string\_\-insert\_\-codepage@{pmath\_\-string\_\-insert\_\-codepage}}
\index{pmath\_\-string\_\-insert\_\-codepage@{pmath\_\-string\_\-insert\_\-codepage}!strings@{strings}}
\paragraph[{pmath\_\-string\_\-insert\_\-codepage}]{\setlength{\rightskip}{0pt plus 5cm}PMATH\_\-API {\bf pmath\_\-string\_\-t} pmath\_\-string\_\-insert\_\-codepage ({\bf pmath\_\-string\_\-t} {\em str}, \/  int {\em inspos}, \/  const char $\ast$ {\em ins}, \/  int {\em inslen}, \/  const uint16\_\-t $\ast$ {\em cp})\hspace{0.3cm}{\tt  \mbox{[}inherited\mbox{]}}}\hfill}
\label{group__strings_g5008b0b2e682b283772e10bf38666ffe}


Insert a byte string into a pMath string using a translation array. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em str}]\hyperlink{class_a}{A} pMath String or NULL. It will be freed. \item[{\em inspos}]The position, at which {\tt ins} should be inserted in {\tt str}. \item[{\em ins}]\hyperlink{class_a}{A} byte string. \item[{\em inslen}]The length of {\tt ins} or -1 if it is zero-terminated. \item[{\em cp}]An array of 256 uint16\_\-t values that are used to convert bytes to UCS-2 characters. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]NULL on failure or a pMath String. You must destroy it.\end{Desc}
If {\tt str} is NULL, it is assumed to be the empty string. \hypertarget{group__strings_ge49ea36d0f35856b6b9aeb0c4470c614}{
\index{strings@{strings}!pmath\_\-string\_\-insert\_\-ucs2@{pmath\_\-string\_\-insert\_\-ucs2}}
\index{pmath\_\-string\_\-insert\_\-ucs2@{pmath\_\-string\_\-insert\_\-ucs2}!strings@{strings}}
\paragraph[{pmath\_\-string\_\-insert\_\-ucs2}]{\setlength{\rightskip}{0pt plus 5cm}PMATH\_\-API {\bf pmath\_\-string\_\-t} pmath\_\-string\_\-insert\_\-ucs2 ({\bf pmath\_\-string\_\-t} {\em str}, \/  int {\em inspos}, \/  const uint16\_\-t $\ast$ {\em ins}, \/  int {\em inslen})\hspace{0.3cm}{\tt  \mbox{[}inherited\mbox{]}}}\hfill}
\label{group__strings_ge49ea36d0f35856b6b9aeb0c4470c614}


Insert a UCS-2 buffer into a pMath String. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em str}]\hyperlink{class_a}{A} pMath String or NULL. It will be freed. \item[{\em inspos}]The position, at which {\tt ins} should be inserted in {\tt str}. \item[{\em ins}]\hyperlink{class_a}{A} uint16\_\-t string. This is {\em not\/} a wchar\_\-t string. \item[{\em inslen}]The length of {\tt ins} or -1 if it is zero-terminated. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]NULL on failure or a pMath String. You must destroy it.\end{Desc}
If {\tt str} is NULL, it is assumed to be the empty string. \hypertarget{group__strings_g563af717f21793d72933a9914b23a6aa}{
\index{strings@{strings}!pmath\_\-string\_\-insert@{pmath\_\-string\_\-insert}}
\index{pmath\_\-string\_\-insert@{pmath\_\-string\_\-insert}!strings@{strings}}
\paragraph[{pmath\_\-string\_\-insert}]{\setlength{\rightskip}{0pt plus 5cm}PMATH\_\-API {\bf pmath\_\-string\_\-t} pmath\_\-string\_\-insert ({\bf pmath\_\-string\_\-t} {\em str}, \/  int {\em inspos}, \/  {\bf pmath\_\-string\_\-t} {\em ins})\hspace{0.3cm}{\tt  \mbox{[}inherited\mbox{]}}}\hfill}
\label{group__strings_g563af717f21793d72933a9914b23a6aa}


Insert one pMath String into another pMath String. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em str}]\hyperlink{class_a}{A} pMath String or NULL. It will be freed. \item[{\em inspos}]The position, at which {\tt ins} should be inserted in {\tt str}. \item[{\em ins}]\hyperlink{class_a}{A} pMath String or NULL. It will be freed. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]NULL on failure or a pMath String. You must destroy it. \end{Desc}
\hypertarget{group__strings_g2594ada00fefcbede1420bf19b806de6}{
\index{strings@{strings}!pmath\_\-string\_\-concat@{pmath\_\-string\_\-concat}}
\index{pmath\_\-string\_\-concat@{pmath\_\-string\_\-concat}!strings@{strings}}
\paragraph[{pmath\_\-string\_\-concat}]{\setlength{\rightskip}{0pt plus 5cm}PMATH\_\-API {\bf pmath\_\-string\_\-t} pmath\_\-string\_\-concat ({\bf pmath\_\-string\_\-t} {\em prefix}, \/  {\bf pmath\_\-string\_\-t} {\em postfix})\hspace{0.3cm}{\tt  \mbox{[}inherited\mbox{]}}}\hfill}
\label{group__strings_g2594ada00fefcbede1420bf19b806de6}


Concatenate two pMath Strings. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em prefix}]\hyperlink{class_a}{A} pMath String. It will be freed. \item[{\em postfix}]\hyperlink{class_a}{A} pMath String. It will be freed. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]NULL on failure or a pMath String that consists of {\tt prefix} followed by {\tt postfix}. You must destroy it.\end{Desc}
If one of the two strings is NULL, the other string will be returned. \hypertarget{group__strings_gb99f797d2a7670ff6a44d788d07812cd}{
\index{strings@{strings}!pmath\_\-string\_\-part@{pmath\_\-string\_\-part}}
\index{pmath\_\-string\_\-part@{pmath\_\-string\_\-part}!strings@{strings}}
\paragraph[{pmath\_\-string\_\-part}]{\setlength{\rightskip}{0pt plus 5cm}PMATH\_\-API {\bf pmath\_\-string\_\-t} pmath\_\-string\_\-part ({\bf pmath\_\-string\_\-t} {\em string}, \/  int {\em start}, \/  int {\em length})\hspace{0.3cm}{\tt  \mbox{[}inherited\mbox{]}}}\hfill}
\label{group__strings_gb99f797d2a7670ff6a44d788d07812cd}


Extract a substring of a pMath String. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em string}]\hyperlink{class_a}{A} pMath String. It will be freed. \item[{\em start}]the substring's start index. \item[{\em length}]the substring's length or -1 for the whole substring beginng at start. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]NULL on failure or a pMath String.\end{Desc}
If start or start+length are out of bounds, thy will be truncated, the the resulting string's length is not neccesaryly {\tt length}. \hypertarget{group__strings_g381c6abdb25ce421c93c72aa51f33c29}{
\index{strings@{strings}!pmath\_\-string\_\-buffer@{pmath\_\-string\_\-buffer}}
\index{pmath\_\-string\_\-buffer@{pmath\_\-string\_\-buffer}!strings@{strings}}
\paragraph[{pmath\_\-string\_\-buffer}]{\setlength{\rightskip}{0pt plus 5cm}PMATH\_\-API const uint16\_\-t $\ast$ pmath\_\-string\_\-buffer ({\bf pmath\_\-string\_\-t} {\em string})\hspace{0.3cm}{\tt  \mbox{[}inherited\mbox{]}}}\hfill}
\label{group__strings_g381c6abdb25ce421c93c72aa51f33c29}


Get a string's buffer for reading. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em string}]\hyperlink{class_a}{A} string. It remains valid after the function call, so you have to destroy it manually. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]\hyperlink{class_a}{A} pointer to the string's buffer. This buffer is guaranteed to be pmath\_\-string\_\-length(str) $\ast$ sizeof(uint16\_\-t) bytes long.\end{Desc}
Do not forget that pMath strings are not zero-terminated. \hypertarget{group__strings_g4f5ac7eaecd0c7e9916794145938874d}{
\index{strings@{strings}!pmath\_\-string\_\-length@{pmath\_\-string\_\-length}}
\index{pmath\_\-string\_\-length@{pmath\_\-string\_\-length}!strings@{strings}}
\paragraph[{pmath\_\-string\_\-length}]{\setlength{\rightskip}{0pt plus 5cm}PMATH\_\-API int pmath\_\-string\_\-length ({\bf pmath\_\-string\_\-t} {\em string})\hspace{0.3cm}{\tt  \mbox{[}inherited\mbox{]}}}\hfill}
\label{group__strings_g4f5ac7eaecd0c7e9916794145938874d}


Get a string's length. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em string}]\hyperlink{class_a}{A} string. It remains valid after the function call, so you have to destroy it manually. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]The length (in uint16\_\-t characters) of the string. It is never negative. \end{Desc}
\hypertarget{group__strings_g710d7a70319d6fa805ddd7ed0ea65365}{
\index{strings@{strings}!pmath\_\-string\_\-equals\_\-latin1@{pmath\_\-string\_\-equals\_\-latin1}}
\index{pmath\_\-string\_\-equals\_\-latin1@{pmath\_\-string\_\-equals\_\-latin1}!strings@{strings}}
\paragraph[{pmath\_\-string\_\-equals\_\-latin1}]{\setlength{\rightskip}{0pt plus 5cm}PMATH\_\-API {\bf pmath\_\-bool\_\-t} pmath\_\-string\_\-equals\_\-latin1 ({\bf pmath\_\-string\_\-t} {\em string}, \/  const char $\ast$ {\em latin1})\hspace{0.3cm}{\tt  \mbox{[}inherited\mbox{]}}}\hfill}
\label{group__strings_g710d7a70319d6fa805ddd7ed0ea65365}


Compare a pMth sting with a C string. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em string}]\hyperlink{class_a}{A} string. It wont be freed. \item[{\em latin1}]\hyperlink{class_a}{A} C string (zero terminated). \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]Whether the two string are equals.\end{Desc}
This function is a short form for 

\begin{Code}\begin{verbatim}tmp = PMATH_C_STRING(latin1);
result = pmath_equals(string, tmp);
pmath_unref(tmp);
\end{verbatim}
\end{Code}

 